{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\julia\\\\Desktop\\\\geo\\\\geo\\\\src\\\\PrivateRoute.jsx\";\nimport React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport * as jwt_decode from 'jwt-decode';\n\nconst PrivateRoute = ({\n  component: Component,\n  ...rest\n}) => /*#__PURE__*/React.createElement(Route, Object.assign({}, rest, {\n  render: props => {\n    if (!localStorage.token && !props.location.state) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: {\n          pathname: '/login'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 9,\n          columnNumber: 11\n        }\n      });\n    }\n\n    var user = props.location.state && props.location.state.user ? props.location.state.user : jwt_decode(localStorage.token);\n    props.location.state = {\n      user: user\n    };\n\n    if (user.school) {\n      if (props.location.pathname === '/teacher' || props.location.pathname === '/students' || props.location.pathname === '/results') {\n        return /*#__PURE__*/React.createElement(Component, Object.assign({}, props, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 20,\n            columnNumber: 12\n          }\n        }));\n      }\n\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: {\n          pathname: '/teacher',\n          state: {\n            user: user\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22,\n          columnNumber: 11\n        }\n      });\n    }\n\n    if (user.class) {\n      if (props.location.pathname === '/student') {\n        return /*#__PURE__*/React.createElement(Component, Object.assign({}, props, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 12\n          }\n        }));\n      }\n\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: {\n          pathname: '/student',\n          state: {\n            user: user\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 11\n        }\n      });\n    }\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 6,\n    columnNumber: 2\n  }\n}));\n\nexport default PrivateRoute;","map":{"version":3,"sources":["C:/Users/julia/Desktop/geo/geo/src/PrivateRoute.jsx"],"names":["React","Route","Redirect","jwt_decode","PrivateRoute","component","Component","rest","props","localStorage","token","location","state","pathname","user","school","class"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,EAAgBC,QAAhB,QAAgC,kBAAhC;AACA,OAAO,KAAKC,UAAZ,MAA4B,YAA5B;;AAEA,MAAMC,YAAY,GAAG,CAAC;AAACC,EAAAA,SAAS,EAAEC,SAAZ;AAAuB,KAAGC;AAA1B,CAAD,kBACpB,oBAAC,KAAD,oBAAWA,IAAX;AAAiB,EAAA,MAAM,EAAEC,KAAK,IAAI;AAEjC,QAAI,CAACC,YAAY,CAACC,KAAd,IAAuB,CAACF,KAAK,CAACG,QAAN,CAAeC,KAA3C,EAAkD;AACjD,0BAAO,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAE;AACnBC,UAAAA,QAAQ,EAAE;AADS,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AAGA;;AAED,QAAIC,IAAI,GAAGN,KAAK,CAACG,QAAN,CAAeC,KAAf,IAAwBJ,KAAK,CAACG,QAAN,CAAeC,KAAf,CAAqBE,IAA7C,GAAoDN,KAAK,CAACG,QAAN,CAAeC,KAAf,CAAqBE,IAAzE,GAAgFX,UAAU,CAACM,YAAY,CAACC,KAAd,CAArG;AACAF,IAAAA,KAAK,CAACG,QAAN,CAAeC,KAAf,GAAuB;AACtBE,MAAAA,IAAI,EAAEA;AADgB,KAAvB;;AAGA,QAAIA,IAAI,CAACC,MAAT,EAAiB;AAChB,UAAIP,KAAK,CAACG,QAAN,CAAeE,QAAf,KAA4B,UAA5B,IAA0CL,KAAK,CAACG,QAAN,CAAeE,QAAf,KAA4B,WAAtE,IAAqFL,KAAK,CAACG,QAAN,CAAeE,QAAf,KAA4B,UAArH,EAAiI;AAChI,4BAAO,oBAAC,SAAD,oBAAeL,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAP;AACA;;AACD,0BAAO,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAE;AACnBK,UAAAA,QAAQ,EAAE,UADS;AAEnBD,UAAAA,KAAK,EAAE;AACNE,YAAAA,IAAI,EAAEA;AADA;AAFY,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AAMA;;AACD,QAAIA,IAAI,CAACE,KAAT,EAAgB;AACf,UAAIR,KAAK,CAACG,QAAN,CAAeE,QAAf,KAA4B,UAAhC,EAA4C;AAC3C,4BAAO,oBAAC,SAAD,oBAAeL,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAP;AACA;;AACD,0BAAO,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAE;AACnBK,UAAAA,QAAQ,EAAE,UADS;AAEnBD,UAAAA,KAAK,EAAE;AACNE,YAAAA,IAAI,EAAEA;AADA;AAFY,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AAMA;AACD,GAlCD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GADD;;AAqCA,eAAeV,YAAf","sourcesContent":["import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport * as jwt_decode from 'jwt-decode';\r\n\r\nconst PrivateRoute = ({component: Component, ...rest}) => (\r\n\t<Route {...rest} render={props => {\r\n\r\n\t\tif (!localStorage.token && !props.location.state) {\r\n\t\t\treturn <Redirect to={{\r\n\t\t\t\t\tpathname: '/login'\r\n\t\t\t\t}} />\r\n\t\t}\r\n\r\n\t\tvar user = props.location.state && props.location.state.user ? props.location.state.user : jwt_decode(localStorage.token);\r\n\t\tprops.location.state = {\r\n\t\t\tuser: user\r\n\t\t};\r\n\t\tif (user.school) {\r\n\t\t\tif (props.location.pathname === '/teacher' || props.location.pathname === '/students' || props.location.pathname === '/results') {\r\n\t\t\t\treturn <Component {...props}/>\r\n\t\t\t}\r\n\t\t\treturn <Redirect to={{\r\n\t\t\t\t\tpathname: '/teacher',\r\n\t\t\t\t\tstate: {\r\n\t\t\t\t\t\tuser: user\r\n\t\t\t\t\t}\r\n\t\t\t\t}} />\r\n\t\t}\r\n\t\tif (user.class) {\r\n\t\t\tif (props.location.pathname === '/student') {\r\n\t\t\t\treturn <Component {...props} />\r\n\t\t\t}\r\n\t\t\treturn <Redirect to={{\r\n\t\t\t\t\tpathname: '/student',\r\n\t\t\t\t\tstate: {\r\n\t\t\t\t\t\tuser: user\r\n\t\t\t\t\t}\r\n\t\t\t\t}} />\r\n\t\t}\r\n\t}}/>\r\n)\r\nexport default PrivateRoute;"]},"metadata":{},"sourceType":"module"}