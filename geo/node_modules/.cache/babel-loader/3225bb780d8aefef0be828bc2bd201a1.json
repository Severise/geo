{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\555\\\\Desktop\\\\geo\\\\geo\\\\src\\\\components\\\\Form.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nexport default class Sign extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      login: \"\",\n      password: \"\",\n      role: \"\",\n      loginErrors: \"\"\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    const {\n      login,\n      password,\n      role\n    } = this.state;\n    console.log({\n      login,\n      password,\n      role\n    });\n    axios.post(\"/login\", {\n      user: {\n        login: login,\n        password: password,\n        role: role\n      }\n    }, {\n      withCredentials: true\n    }).then(res => {\n      if (res) {\n        this.props.history.push(`/profile`);\n      }\n    }).catch(error => {\n      console.log(\"login error\", error);\n    });\n    event.preventDefault();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"sign\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435 \\u0434\\u043B\\u044F \\u0432\\u0445\\u043E\\u0434\\u0430\"), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"\\u0418\\u043C\\u044F\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"login\",\n      value: this.state.login,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    })), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"), React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      value: this.state.password,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"\\u0420\\u043E\\u043B\\u044C\"), React.createElement(\"li\", {\n      id: \"radio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"teach\",\n      name: \"role\",\n      value: \"teacher\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"teach\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"\\u0423\\u0447\\u0438\\u0442\\u0435\\u043B\\u044C\"), React.createElement(\"input\", {\n      type: \"radio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \" / \"), React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"stud\",\n      name: \"role\",\n      value: \"student\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"stud\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"\\u0423\\u0447\\u0435\\u043D\\u0438\\u043A\")), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"\\u0412\\u043E\\u0439\\u0442\\u0438\")))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/555/Desktop/geo/geo/src/components/Form.js"],"names":["React","Component","axios","Sign","constructor","props","state","login","password","role","loginErrors","handleSubmit","bind","handleChange","event","setState","target","name","value","console","log","post","user","withCredentials","then","res","history","push","catch","error","preventDefault","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\n\r\nexport default class Sign extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tlogin: \"\",\r\n\t\t\tpassword: \"\",\r\n\t\t\trole: \"\",\r\n\t\t\tloginErrors: \"\"\r\n\t\t};\r\n\r\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t}\r\n\r\n\thandleChange(event) {\r\n\t\tthis.setState({\r\n\t\t\t[event.target.name]: event.target.value\r\n\t\t});\r\n\t}\r\n\r\n\thandleSubmit(event) {\r\n\t\tconst { login, password, role } = this.state;\r\n\t\tconsole.log({ login, password, role });\r\n\t\taxios\r\n\t\t\t.post(\"/login\", {\r\n\t\t\t\tuser: {\r\n\t\t\t\t\tlogin: login,\r\n\t\t\t\t\tpassword: password,\r\n\t\t\t\t\trole: role\r\n\t\t\t\t}\r\n\t\t\t}, { withCredentials: true })\r\n\t\t\t.then(res => {\r\n\t\t\t\tif (res) {\r\n\t\t\t\t\tthis.props.history.push(`/profile`)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tconsole.log(\"login error\", error);\r\n\t\t\t});\r\n\t\tevent.preventDefault();\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div id=\"sign\">\r\n\t\t\t\t  <label>Введите данные для входа</label>\r\n\t\t\t\t\t<form  onSubmit={this.handleSubmit} >\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t<li><label htmlFor=\"login\">Имя</label>\r\n\t\t\t\t\t\t\t\t<input type=\"text\" name=\"login\" value={this.state.login} onChange={this.handleChange}/></li>\r\n\t\t\t\t\t\t\t<li><label htmlFor=\"password\">Пароль</label>\r\n\t\t\t\t\t\t\t\t<input type=\"password\" name=\"password\" value={this.state.password} onChange={this.handleChange}/></li>\r\n\t\t\t\t\t\t\t\t<label>Роль</label>\r\n\t\t\t\t\t\t\t<li id=\"radio\"><input type=\"radio\" id=\"teach\" name=\"role\" value=\"teacher\" onChange={this.handleChange}/>\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"teach\">Учитель</label>\r\n\t\t\t\t\t\t\t\t<input type=\"radio\"/>\r\n\t\t\t\t\t\t\t\t<label> / </label>\r\n\t\t\t\t\t\t\t\t<input type=\"radio\" id=\"stud\" name=\"role\"  value=\"student\" onChange={this.handleChange}/>\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"stud\">Ученик</label></li>\r\n\t\t\t\t\t\t\t<li><button type=\"submit\">Войти</button></li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}"]},"metadata":{},"sourceType":"module"}