{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\julia\\\\Desktop\\\\geo\\\\geo\\\\src\\\\pages\\\\Learn.js\";\nimport React, { Component } from 'react';\nimport { ReactComponent as Map } from \"@svgr/webpack?-svgo,+titleProp,+ref!../components/Map.svg\";\nimport list from '../components/list.json';\nimport _ from 'lodash';\nexport default class Learn extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      login: \"\",\n      password: \"\",\n      role: \"\",\n      loginError: \"\",\n      current: {},\n      data: _.cloneDeep(list),\n      results: {\n        name: '',\n        res: []\n      }\n    }; // React.cloneElement\n\n    this.map = React.createRef();\n    this.handleClick = this.handleClick.bind(this);\n    this.handleChoose = this.handleChoose.bind(this);\n    this.handleStart = this.handleStart.bind(this);\n  }\n\n  handleStart() {\n    var i;\n    var min = 0;\n    var max = 1;\n    var q = document.getElementsByClassName(\"chosen\")[0].getAttribute(\"class\").split(\" \")[0]; // console.log(this.state.check,q)\n\n    if (this.state.check.name !== q) {\n      this.setState({\n        results: {\n          name: q,\n          res: []\n        }\n      });\n    }\n\n    if (this.state.data[q].length < 0) {\n      i = -1;\n      this.setState({\n        current: {\n          name: \"\"\n        }\n      });\n    } else {\n      min = this.state.data[q][0].id;\n      max = this.state.data[q].length + min;\n      i = parseInt(Math.random() * (max - min) + min);\n      i = i - min;\n      this.setState({\n        current: {\n          id: this.state.data[q][i].id,\n          name: this.state.data[q][i].name,\n          try: 0\n        }\n      }); // console.log(list[q]);\n      // console.log(this.state.data[q]);\n      // this.setState({ results:{name: name,  res: this.state.results.res.concat([this.state.current]) } });\n\n      this.state.data[q].splice(i, 1);\n    }\n  }\n\n  handleClick(event) {\n    console.log(this.state.check);\n    var layer = event.target.parentElement.getAttribute(\"id\"); //console.log(event.target.getAttribute('name'))\n    //console.log(event.target.getAttribute('id'))\n    //console.log(event.target.parentElement.getAttribute(\"id\"));\n    //console.log(document.getElementsByClassName(\"chosen\")[0].getAttribute(\"class\").split(\" \")[0]);\n\n    if (!this.state.current.id) {\n      return;\n    }\n\n    if (layer !== document.getElementsByClassName(\"chosen\")[0].getAttribute(\"class\").split(\" \")[0]) {\n      return;\n    }\n\n    if (parseInt(event.target.getAttribute(\"id\")) !== this.state.current.id) {\n      console.log(this.state.current);\n\n      if (!event.target.classList.contains(\"right\")) {\n        this.setState({\n          current: {\n            id: this.state.current.id,\n            name: this.state.current.name,\n            try: this.state.current.try + 1\n          }\n        });\n      }\n\n      event.target.classList.add('wrong');\n      return;\n    } else {\n      event.target.classList.remove('wrong');\n      event.target.classList.add('right');\n      console.log(this.state.current);\n      var name = document.getElementsByClassName(\"chosen\")[0].getAttribute(\"class\").split(\" \")[0];\n      this.setState({\n        results: {\n          name: name,\n          res: this.state.results.res.concat([this.state.current])\n        }\n      });\n      this.setState({\n        results: {\n          name: name,\n          res: this.state.results.res.concat([this.state.current])\n        }\n      });\n    }\n\n    this.handleStart();\n  }\n\n  handleChoose(event) {\n    this.setState({\n      data: _.cloneDeep(list)\n    });\n    this.setState({\n      check: {\n        name: '',\n        data: []\n      }\n    });\n    this.setState({\n      results: {\n        name: '',\n        res: []\n      }\n    }); // console.log('resret')\n    // console.log(this.state.check)\n\n    if (document.getElementsByClassName(\"chosen\")[0]) {\n      var i = document.getElementsByClassName(\"chosen\")[0];\n\n      if (event.target.classList.contains(i.getAttribute(\"class\").split(\" \")[0])) {\n        return;\n      }\n\n      i.classList.remove(\"chosen\");\n      i = i.getAttribute(\"class\").split(\" \")[0];\n      this.reset(i);\n      document.getElementById(i).style.display = \"none\";\n    }\n\n    document.getElementById(\"region\").style.display = \"inline\";\n    document.getElementById(event.target.className).style.display = \"inline\";\n    document.getElementsByTagName(\"svg\")[0].getElementsByClassName(\"active\")[0].classList.remove(\"active\");\n    document.getElementsByTagName(\"svg\")[0].getElementById(event.target.className).classList.add(\"active\");\n    event.target.classList.add(\"chosen\");\n    this.handleStart();\n  }\n\n  reset(s) {\n    var a = document.getElementsByClassName(\"wrong\");\n    var b = document.getElementsByClassName(\"right\");\n    console.log(s); // Array.prototype.filter.call(testElements, function(testElement) {\n    // return testElement.nodeName === 'DIV';\n    // });????????????\n\n    for (var i = a.length - 1; i >= 0; i--) {\n      a[i].classList.remove('wrong');\n    }\n\n    for (var j = b.length - 1; j >= 0; j--) {\n      b[j].classList.remove('right');\n    } // const node = this.map.current;\n\n  }\n\n  render() {\n    return (\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        id: \"body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 4\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        id: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 6\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 6\n        }\n      }, \"\\u0418\\u0440\\u043A\\u0443\\u0442\\u0441\\u043A\\u0430\\u044F \\u043E\\u0431\\u043B\\u0430\\u0441\\u0442\\u044C\"),\n      /*#__PURE__*/\n      React.createElement(Map, {\n        ref: this.map,\n        onClick: this.handleClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 7\n        }\n      })),\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        id: \"side\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 6\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"ul\", {\n        id: \"layers\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 7\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"li\", {\n        className: \"region\",\n        onClick: this.handleChoose,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 8\n        }\n      }, \"\\u0420\\u0430\\u0439\\u043E\\u043D\\u044B\"),\n      /*#__PURE__*/\n      React.createElement(\"li\", {\n        className: \"city\",\n        onClick: this.handleChoose,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 8\n        }\n      }, \"\\u0413\\u043E\\u0440\\u043E\\u0434\\u0430\"),\n      /*#__PURE__*/\n      React.createElement(\"li\", {\n        className: \"river\",\n        onClick: this.handleChoose,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 8\n        }\n      }, \"\\u0420\\u0435\\u043A\\u0438\"),\n      /*#__PURE__*/\n      React.createElement(\"li\", {\n        className: \"place\",\n        onClick: this.handleChoose,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 8\n        }\n      }, \"\\u041C\\u0435\\u0441\\u0442\\u0430\")),\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 7\n        }\n      }, this.state.current.id == null ?\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        onClick: this.handleStart,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 45\n        }\n      }, \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0441\\u043B\\u043E\\u0439\") :\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 6\n        }\n      }, \"\\u041D\\u0430\\u0439\\u0434\\u0438\\u0442\\u0435 \\u0437\\u0430\\u0434\\u0430\\u043D\\u043D\\u044B\\u0439 \\u043E\\u0431\\u044A\\u0435\\u043A\\u0442: \",\n      /*#__PURE__*/\n      React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 36\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 10\n        }\n      }, this.state.current.name),\n      /*#__PURE__*/\n      React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 48\n        }\n      }), \"\\u041F\\u043E\\u043F\\u044B\\u0442\\u043E\\u043A: \", this.state.current.try))))\n    );\n  }\n\n}","map":{"version":3,"sources":["C:/Users/julia/Desktop/geo/geo/src/pages/Learn.js"],"names":["React","Component","list","_","Learn","constructor","props","state","login","password","role","loginError","current","data","cloneDeep","results","name","res","map","createRef","handleClick","bind","handleChoose","handleStart","i","min","max","q","document","getElementsByClassName","getAttribute","split","check","setState","length","id","parseInt","Math","random","try","splice","event","console","log","layer","target","parentElement","classList","contains","add","remove","concat","reset","getElementById","style","display","className","getElementsByTagName","s","a","b","j","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { ReactComponent as Map } from '../components/Map.svg';\r\nimport list from '../components/list.json';\r\nimport _ from 'lodash';\r\n\r\nexport default class Learn extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tlogin: \"\",\r\n\t\t\tpassword: \"\",\r\n\t\t\trole: \"\",\r\n\t\t\tloginError: \"\",\r\n\t\t\tcurrent: {},\r\n\t\t\tdata: _.cloneDeep(list),\r\n\t\t\tresults: {\r\n\t\t\t\tname: '',\r\n\t\t\t\tres: []\r\n\t\t\t}\r\n\t\t};\r\n\t\t// React.cloneElement\r\n\t\tthis.map = React.createRef();\r\n\t\tthis.handleClick = this.handleClick.bind(this);\r\n\t\tthis.handleChoose = this.handleChoose.bind(this);\r\n\t\tthis.handleStart = this.handleStart.bind(this);\r\n\r\n\t}\r\n\r\n\thandleStart() {\r\n\t\tvar i;\r\n\t\tvar min = 0;\r\n\t\tvar max = 1;\r\n\t\tvar q = document.getElementsByClassName(\"chosen\")[0].getAttribute(\"class\").split(\" \")[0];\r\n\t\t// console.log(this.state.check,q)\r\n\t\tif (this.state.check.name !== q) {\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tresults: {\r\n\t\t\t\t\tname: q,\r\n\t\t\t\t\tres: []\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (this.state.data[q].length < 0) {\r\n\t\t\ti = -1;\r\n\t\t\tthis.setState({\r\n\t\t\t\tcurrent: {\r\n\t\t\t\t\tname: \"\"\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tmin = this.state.data[q][0].id;\r\n\t\t\tmax = this.state.data[q].length + min;\r\n\t\t\ti = parseInt(Math.random() * (max - min) + min);\r\n\t\t\ti = i - min;\r\n\t\t\tthis.setState({\r\n\t\t\t\tcurrent: {\r\n\t\t\t\t\tid: this.state.data[q][i].id,\r\n\t\t\t\t\tname: this.state.data[q][i].name,\r\n\t\t\t\t\ttry: 0\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// console.log(list[q]);\r\n\t\t\t// console.log(this.state.data[q]);\r\n\t\t\t// this.setState({ results:{name: name,  res: this.state.results.res.concat([this.state.current]) } });\r\n\r\n\t\t\tthis.state.data[q].splice(i, 1);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\thandleClick(event) {\r\n\t\tconsole.log(this.state.check);\r\n\t\tvar layer = event.target.parentElement.getAttribute(\"id\");\r\n\r\n\r\n\t\t//console.log(event.target.getAttribute('name'))\r\n\t\t//console.log(event.target.getAttribute('id'))\r\n\r\n\t\t//console.log(event.target.parentElement.getAttribute(\"id\"));\r\n\t\t//console.log(document.getElementsByClassName(\"chosen\")[0].getAttribute(\"class\").split(\" \")[0]);\r\n\t\tif (!this.state.current.id) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (layer !== document.getElementsByClassName(\"chosen\")[0].getAttribute(\"class\").split(\" \")[0]) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (parseInt(event.target.getAttribute(\"id\")) !== this.state.current.id) {\r\n\t\t\tconsole.log(this.state.current);\r\n\t\t\tif (!event.target.classList.contains(\"right\")) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tcurrent: {\r\n\t\t\t\t\t\tid: this.state.current.id,\r\n\t\t\t\t\t\tname: this.state.current.name,\r\n\t\t\t\t\t\ttry: this.state.current.try + 1\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tevent.target.classList.add('wrong');\r\n\t\t\treturn;\r\n\t\t} else {\r\n\t\t\tevent.target.classList.remove('wrong');\r\n\t\t\tevent.target.classList.add('right');\r\n\t\t\tconsole.log(this.state.current)\r\n\t\t\tvar name = document.getElementsByClassName(\"chosen\")[0].getAttribute(\"class\").split(\" \")[0];\r\n\t\t\tthis.setState({\r\n\t\t\t\tresults: {\r\n\t\t\t\t\tname: name,\r\n\t\t\t\t\tres: this.state.results.res.concat([this.state.current])\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis.setState({\r\n\t\t\t\tresults: {\r\n\t\t\t\t\tname: name,\r\n\t\t\t\t\tres: this.state.results.res.concat([this.state.current])\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tthis.handleStart();\r\n\t}\r\n\r\n\r\n\thandleChoose(event) {\r\n\r\n\t\tthis.setState({\r\n\t\t\tdata: _.cloneDeep(list)\r\n\t\t});\r\n\t\tthis.setState({\r\n\t\t\tcheck: {\r\n\t\t\t\tname: '',\r\n\t\t\t\tdata: []\r\n\t\t\t}\r\n\t\t})\r\n\t\tthis.setState({\r\n\t\t\tresults: {\r\n\t\t\t\tname: '',\r\n\t\t\t\tres: []\r\n\t\t\t}\r\n\t\t})\r\n\t\t// console.log('resret')\r\n\t\t// console.log(this.state.check)\r\n\t\tif (document.getElementsByClassName(\"chosen\")[0]) {\r\n\t\t\tvar i = document.getElementsByClassName(\"chosen\")[0];\r\n\t\t\tif (event.target.classList.contains(i.getAttribute(\"class\").split(\" \")[0])) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\ti.classList.remove(\"chosen\");\r\n\t\t\ti = i.getAttribute(\"class\").split(\" \")[0];\r\n\t\t\tthis.reset(i);\r\n\t\t\tdocument.getElementById(i).style.display = \"none\";\r\n\t\t}\r\n\t\tdocument.getElementById(\"region\").style.display = \"inline\";\r\n\t\tdocument.getElementById(event.target.className).style.display = \"inline\";\r\n\t\tdocument.getElementsByTagName(\"svg\")[0].getElementsByClassName(\"active\")[0].classList.remove(\"active\");\r\n\t\tdocument.getElementsByTagName(\"svg\")[0].getElementById(event.target.className).classList.add(\"active\");\r\n\t\tevent.target.classList.add(\"chosen\");\r\n\t\tthis.handleStart();\r\n\r\n\t}\r\n\r\n\treset(s) {\r\n\r\n\r\n\t\tvar a = document.getElementsByClassName(\"wrong\");\r\n\t\tvar b = document.getElementsByClassName(\"right\");\r\n\t\tconsole.log(s)\r\n\t\t// Array.prototype.filter.call(testElements, function(testElement) {\r\n\t\t// return testElement.nodeName === 'DIV';\r\n\t\t// });????????????\r\n\t\tfor (var i = a.length - 1; i >= 0; i--) {\r\n\t\t\ta[i].classList.remove('wrong');\r\n\t\t}\r\n\t\tfor (var j = b.length - 1; j >= 0; j--) {\r\n\t\t\tb[j].classList.remove('right');\r\n\t\t}\r\n\t// const node = this.map.current;\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div id=\"body\" >\r\n\t\t\t\t\t<div id=\"content\">\r\n\t\t\t\t\t<h2>Иркутская область</h2>\r\n\t\t\t\t\t\t<Map  ref={this.map} onClick={this.handleClick} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id=\"side\">\r\n\t\t\t\t\t\t<ul id=\"layers\">\r\n\t\t\t\t\t\t\t<li className=\"region\" onClick={this.handleChoose}>Районы</li>\r\n\t\t\t\t\t\t\t<li className=\"city\" onClick={this.handleChoose}>Города</li>\r\n\t\t\t\t\t\t\t<li className=\"river\" onClick={this.handleChoose}>Реки</li>\r\n\t\t\t\t\t\t\t<li className=\"place\" onClick={this.handleChoose}>Места</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t<div>\r\n\t\t   \t\t\t\t\t{this.state.current.id == null ? (<div onClick={this.handleStart}>Выберите слой</div> ) :\r\n\t\t\t\t(<div>Найдите заданный объект: <br/>\r\n \t\t\t\t\t\t\t\t<span>{this.state.current.name}</span><br/>\r\n \t\t\t\t\t\t\t\tПопыток: {this.state.current.try}</div>)}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\t\t\r\n\t\t\t\t\t</div>\t\t\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t}\r\n}"]},"metadata":{},"sourceType":"module"}