{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\555\\\\Desktop\\\\app\\\\geo\\\\src\\\\components\\\\Form.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nexport default class Sign extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      login: \"\",\n      password: \"\",\n      role: \"\",\n      loginErrors: \"\"\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    const {\n      login,\n      password,\n      role\n    } = this.state;\n    console.log({\n      login,\n      password,\n      role\n    });\n    axios.post(\"/login\", {\n      user: {\n        login: login,\n        password: password,\n        role: role\n      }\n    }, {\n      withCredentials: true\n    }).then(response => {\n      if (response.data.logged_in) {\n        this.props.handleSuccessfulAuth(response.data);\n      }\n    }).catch(error => {\n      console.log(\"login error\", error);\n    });\n    event.preventDefault();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"sign\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435 \\u0434\\u043B\\u044F \\u0432\\u0445\\u043E\\u0434\\u0430\"), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"\\u0418\\u043C\\u044F\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"login\",\n      value: this.state.login,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    })), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"), React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      value: this.state.password,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"\\u0420\\u043E\\u043B\\u044C\"), React.createElement(\"li\", {\n      id: \"radio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"teach\",\n      name: \"role\",\n      value: \"teacher\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"teach\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"\\u0423\\u0447\\u0438\\u0442\\u0435\\u043B\\u044C\"), React.createElement(\"input\", {\n      type: \"radio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \" / \"), React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"stud\",\n      name: \"role\",\n      value: \"student\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"stud\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"\\u0423\\u0447\\u0435\\u043D\\u0438\\u043A\")), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"\\u0412\\u043E\\u0439\\u0442\\u0438\")))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/555/Desktop/app/geo/src/components/Form.js"],"names":["React","Component","axios","Sign","constructor","props","state","login","password","role","loginErrors","handleSubmit","bind","handleChange","event","setState","target","name","value","console","log","post","user","withCredentials","then","response","data","logged_in","handleSuccessfulAuth","catch","error","preventDefault","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\n\r\nexport default class Sign extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            login: \"\",\r\n            password: \"\",\r\n            role: \"\",\r\n            loginErrors: \"\"\r\n        };\r\n\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n\r\n    handleChange(event) {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        });\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        const { login, password, role } = this.state;\r\n        console.log({ login, password, role });\r\n        axios\r\n            .post(\"/login\", {\r\n                    user: {\r\n                        login: login,\r\n                        password: password,\r\n                        role: role\r\n                    }\r\n                }, { withCredentials: true }\r\n            )\r\n            .then(response => {\r\n                if (response.data.logged_in) {\r\n                    this.props.handleSuccessfulAuth(response.data);\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.log(\"login error\", error);\r\n            });\r\n        event.preventDefault();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"sign\">\r\n\t\t\t\t  <label>Введите данные для входа</label>\r\n\t\t\t\t\t<form  onSubmit={this.handleSubmit} >\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t<li><label htmlFor=\"login\">Имя</label>\r\n\t\t\t\t\t\t\t\t<input type=\"text\" name=\"login\" value={this.state.login} onChange={this.handleChange}/></li>\r\n\t\t\t\t\t\t\t<li><label htmlFor=\"password\">Пароль</label>\r\n\t\t\t\t\t\t\t\t<input type=\"password\" name=\"password\" value={this.state.password} onChange={this.handleChange}/></li>\r\n\t\t\t\t\t\t\t\t<label>Роль</label>\r\n\t\t\t\t\t\t\t<li id=\"radio\"><input type=\"radio\" id=\"teach\" name=\"role\" value=\"teacher\" onChange={this.handleChange}/>\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"teach\">Учитель</label>\r\n\t\t\t\t\t\t\t\t<input type=\"radio\"/>\r\n\t\t\t\t\t\t\t\t<label> / </label>\r\n\t\t\t\t\t\t\t\t<input type=\"radio\" id=\"stud\" name=\"role\"  value=\"student\" onChange={this.handleChange}/>\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"stud\">Ученик</label></li>\r\n\t\t\t\t\t\t\t<li><button type=\"submit\">Войти</button></li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</form>\r\n\t\t\t</div>\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}