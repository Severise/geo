{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\julia\\\\Desktop\\\\geo\\\\geo\\\\src\\\\pages\\\\Learn.js\";\nimport React, { Component } from 'react';\nimport Head from '../components/Head';\nimport { ReactComponent as Map } from \"@svgr/webpack?-svgo,+titleProp,+ref!../components/Map.svg\";\nimport list from '../components/list.json';\nexport default class Learn extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      login: \"\",\n      password: \"\",\n      role: \"\",\n      loginError: \"\",\n      current: {},\n      data: list,\n      used: {\n        a: []\n      },\n      results: {\n        name: '',\n        res: []\n      }\n    };\n    this.map = React.createRef();\n    this.handleClick = this.handleClick.bind(this);\n    this.handleChoose = this.handleChoose.bind(this);\n    this.handleStart = this.handleStart.bind(this);\n  }\n\n  handleStart() {\n    var i;\n    var min = 0,\n        max = 1;\n    var q = document.getElementsByClassName(\"chosen\")[0].getAttribute(\"class\").split(\" \")[0];\n\n    if (this.state.data[q].length <= this.state.used.length) {\n      i = -1; //fssfsfsfsfsafsf\n\n      this.setState({\n        current: {\n          name: \"\",\n          try: 0\n        }\n      });\n    } else {\n      do {\n        min = this.state.data[q][0].id;\n        max = this.state.data[q].length + min;\n        i = parseInt(Math.random() * (max - min) + min);\n        i = i - min;\n        this.setState({\n          current: {\n            id: this.state.data[q][i].id,\n            name: this.state.data[q][i].name,\n            try: 0\n          }\n        }); // console.log(this.state.used)\n      } while (this.state.used.a.includes(this.state.data[q][i].id)); // console.log(this.state.used);\n      // console.log(list[q]);\n      // console.log(this.state.data[q]);\n\n\n      this.setState({\n        used: {\n          a: this.state.used.a.concat(this.state.data[q][i].id)\n        }\n      }); // this.setState({ used: this.state.used.concat([this.state.data[q][i]]) })\n      // this.state.data[q].splice(i, 1);\n    }\n  }\n\n  handleClick(event) {\n    console.log(this.state.results.res); //console.log(event.target.getAttribute('name'))\n    //console.log(event.target.getAttribute('id'))\n    //console.log(event.target.parentElement.getAttribute(\"id\"));\n    //console.log(document.getElementsByClassName(\"chosen\")[0].getAttribute(\"class\").split(\" \")[0]);\n\n    if (!this.state.current.id) return;\n    if (event.target.parentElement.getAttribute(\"id\") !== document.getElementsByClassName(\"chosen\")[0].getAttribute(\"class\").split(\" \")[0]) return;\n\n    if (parseInt(event.target.getAttribute(\"id\")) !== this.state.current.id) {\n      console.log(this.state.current);\n      if (!event.target.classList.contains(\"right\")) this.setState({\n        current: {\n          id: this.state.current.id,\n          name: this.state.current.name,\n          try: this.state.current.try + 1\n        }\n      });\n      event.target.classList.add('wrong');\n      return;\n    } else {\n      event.target.classList.remove('wrong');\n      event.target.classList.add('right');\n      console.log(this.state.current);\n      var name = document.getElementsByClassName(\"chosen\")[0].getAttribute(\"class\").split(\" \")[0];\n      this.setState({\n        results: {\n          name: name,\n          res: this.state.results.res.concat([this.state.current])\n        }\n      });\n    }\n\n    this.handleStart();\n  }\n\n  handleChoose(event) {\n    // this.setState({ data: list });\n    var empty = []; // this.setState({ used: { a: [] } });\n\n    this.setState({\n      used: {\n        a: [],\n        b: 123\n      }\n    }); // this.setState({ used: ['bjhjbn', 'dsd'] });\n    // console.log('resret')\n    // console.log(this.state.used)\n\n    if (document.getElementsByClassName(\"chosen\")[0]) {\n      var i = document.getElementsByClassName(\"chosen\")[0];\n      this.reset(i.getAttribute(\"class\").split(\" \")[0]);\n      i.classList.remove(\"chosen\");\n      document.getElementById(i.getAttribute(\"class\").split(\" \")[0]).style.display = \"none\";\n    }\n\n    document.getElementById(\"region\").style.display = \"inline\";\n    document.getElementById(event.target.className).style.display = \"inline\";\n    document.getElementsByTagName(\"svg\")[0].getElementsByClassName(\"active\")[0].classList.remove(\"active\");\n    document.getElementsByTagName(\"svg\")[0].getElementById(event.target.className).classList.add(\"active\");\n    event.target.classList.add(\"chosen\");\n    this.handleStart();\n  }\n\n  reset(s) {\n    var a = document.getElementsByClassName(\"wrong\");\n    var b = document.getElementsByClassName(\"right\");\n    console.log(s); // Array.prototype.filter.call(testElements, function(testElement) {\n    // return testElement.nodeName === 'DIV';\n    // });????????????\n\n    for (var i = a.length - 1; i >= 0; i--) a[i].classList.remove('wrong');\n\n    for (var i = b.length - 1; i >= 0; i--) b[i].classList.remove('right');\n\n    const node = this.map.current;\n  }\n\n  render() {\n    return (\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Head, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 5\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        id: \"body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 5\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        id: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 6\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 6\n        }\n      }, \"\\u0418\\u0440\\u043A\\u0443\\u0442\\u0441\\u043A\\u0430\\u044F \\u043E\\u0431\\u043B\\u0430\\u0441\\u0442\\u044C\"),\n      /*#__PURE__*/\n      React.createElement(Map, {\n        ref: this.map,\n        onClick: this.handleClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 7\n        }\n      })),\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        id: \"side\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 6\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"ul\", {\n        id: \"layers\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 7\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"li\", {\n        className: \"region\",\n        onClick: this.handleChoose,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 8\n        }\n      }, \"\\u0420\\u0430\\u0439\\u043E\\u043D\\u044B\"),\n      /*#__PURE__*/\n      React.createElement(\"li\", {\n        className: \"city\",\n        onClick: this.handleChoose,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 8\n        }\n      }, \"\\u0413\\u043E\\u0440\\u043E\\u0434\\u0430\"),\n      /*#__PURE__*/\n      React.createElement(\"li\", {\n        className: \"river\",\n        onClick: this.handleChoose,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 8\n        }\n      }, \"\\u0420\\u0435\\u043A\\u0438\"),\n      /*#__PURE__*/\n      React.createElement(\"li\", {\n        className: \"place\",\n        onClick: this.handleChoose,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 8\n        }\n      }, \"\\u041C\\u0435\\u0441\\u0442\\u0430\")),\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 7\n        }\n      }, this.state.current.id == null ?\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        onClick: this.handleStart,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 44\n        }\n      }, \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0441\\u043B\\u043E\\u0439\") : 'dasdsa'))))\n    );\n  }\n\n} // <c:choose>\n//   \t\t\t \t\t\t\t\t<c:when test=\"${this.state.current.id!=null}\">\n//        \t\t\t\t\t\t\t<div onClick={this.handleStart}>Выберите слой</div>\n//    \t\t\t\t\t\t\t</c:when>    \n//   \t\t\t\t\t\t\t\t<c:otherwise>\n// \t\t\t\t\t\t\t\tНайдите заданный объект: <br/>\n// \t\t\t\t\t\t\t\t<span>{this.state.current.name}</span><br/>\n// \t\t\t\t\t\t\t\tПопыток: {this.state.current.try}\n// \t\t\t\t\t\t    </c:otherwise>\n//   \t\t\t\t\t\t\t</c:choose>","map":{"version":3,"sources":["C:/Users/julia/Desktop/geo/geo/src/pages/Learn.js"],"names":["React","Component","Head","list","Learn","constructor","props","state","login","password","role","loginError","current","data","used","a","results","name","res","map","createRef","handleClick","bind","handleChoose","handleStart","i","min","max","q","document","getElementsByClassName","getAttribute","split","length","setState","try","id","parseInt","Math","random","includes","concat","event","console","log","target","parentElement","classList","contains","add","remove","empty","b","reset","getElementById","style","display","className","getElementsByTagName","s","node","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Head from '../components/Head';\r\nimport { ReactComponent as Map } from '../components/Map.svg';\r\nimport list from '../components/list.json';\r\n\r\nexport default class Learn extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            login: \"\",\r\n            password: \"\",\r\n            role: \"\",\r\n            loginError: \"\",\r\n            current: {},\r\n            data: list,\r\n            used: { a: [] },\r\n            results: { name: '', res: [] }\r\n        };\r\n        this.map = React.createRef();\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.handleChoose = this.handleChoose.bind(this);\r\n        this.handleStart = this.handleStart.bind(this);\r\n\r\n    }\r\n\r\n    handleStart() {\r\n        var i;\r\n        var min = 0,\r\n            max = 1;\r\n        var q = document.getElementsByClassName(\"chosen\")[0].getAttribute(\"class\").split(\" \")[0];\r\n        if (this.state.data[q].length <= this.state.used.length) {\r\n            i = -1;\r\n            //fssfsfsfsfsafsf\r\n            this.setState({ current: { name: \"\", try: 0 } });\r\n        } else {\r\n            do {\r\n                min = this.state.data[q][0].id;\r\n                max = this.state.data[q].length + min;\r\n                i = parseInt(Math.random() * (max - min) + min);\r\n                i = i - min;\r\n                this.setState({ current: { id: this.state.data[q][i].id, name: this.state.data[q][i].name, try: 0 } });\r\n                // console.log(this.state.used)\r\n            }\r\n            while (this.state.used.a.includes(this.state.data[q][i].id))\r\n            // console.log(this.state.used);\r\n            // console.log(list[q]);\r\n            // console.log(this.state.data[q]);\r\n            this.setState({ used: { a: this.state.used.a.concat(this.state.data[q][i].id) } })\r\n            // this.setState({ used: this.state.used.concat([this.state.data[q][i]]) })\r\n            // this.state.data[q].splice(i, 1);\r\n        }\r\n\r\n    }\r\n\r\n\r\n    handleClick(event) {\r\n        console.log(this.state.results.res);\r\n\r\n        //console.log(event.target.getAttribute('name'))\r\n        //console.log(event.target.getAttribute('id'))\r\n\r\n        //console.log(event.target.parentElement.getAttribute(\"id\"));\r\n        //console.log(document.getElementsByClassName(\"chosen\")[0].getAttribute(\"class\").split(\" \")[0]);\r\n        if (!this.state.current.id)\r\n            return\r\n        if (event.target.parentElement.getAttribute(\"id\") !== document.getElementsByClassName(\"chosen\")[0].getAttribute(\"class\").split(\" \")[0])\r\n            return;\r\n        if (parseInt(event.target.getAttribute(\"id\")) !== this.state.current.id) {\r\n            console.log(this.state.current);\r\n            if (!event.target.classList.contains(\"right\"))\r\n                this.setState({ current: { id: this.state.current.id, name: this.state.current.name, try: this.state.current.try+1 } });\r\n            event.target.classList.add('wrong');\r\n            return;\r\n        } else {\r\n            event.target.classList.remove('wrong');\r\n            event.target.classList.add('right');\r\n            console.log(this.state.current)\r\n            var name = document.getElementsByClassName(\"chosen\")[0].getAttribute(\"class\").split(\" \")[0];\r\n            this.setState({ results: { name: name, res: this.state.results.res.concat([this.state.current]) } });\r\n        }\r\n        this.handleStart();\r\n    }\r\n\r\n\r\n    handleChoose(event) {\r\n        // this.setState({ data: list });\r\n        var empty = [];\r\n        // this.setState({ used: { a: [] } });\r\n        this.setState({ used: { a:[], b: 123 } })\r\n\r\n        // this.setState({ used: ['bjhjbn', 'dsd'] });\r\n        // console.log('resret')\r\n        // console.log(this.state.used)\r\n        if (document.getElementsByClassName(\"chosen\")[0]) {\r\n            var i = document.getElementsByClassName(\"chosen\")[0];\r\n            this.reset(i.getAttribute(\"class\").split(\" \")[0]);\r\n            i.classList.remove(\"chosen\");\r\n        document.getElementById(i.getAttribute(\"class\").split(\" \")[0]).style.display = \"none\";\r\n        }\r\n        document.getElementById(\"region\").style.display = \"inline\";\r\n\r\n        document.getElementById(event.target.className).style.display = \"inline\";\r\n        document.getElementsByTagName(\"svg\")[0].getElementsByClassName(\"active\")[0].classList.remove(\"active\");\r\n        document.getElementsByTagName(\"svg\")[0].getElementById(event.target.className).classList.add(\"active\");\r\n        event.target.classList.add(\"chosen\");\r\n        this.handleStart();\r\n\r\n    }\r\n\r\n    reset(s) {\r\n        var a = document.getElementsByClassName(\"wrong\");\r\n        var b = document.getElementsByClassName(\"right\");\r\n        console.log(s)\r\n        // Array.prototype.filter.call(testElements, function(testElement) {\r\n        // return testElement.nodeName === 'DIV';\r\n        // });????????????\r\n        for (var i = a.length - 1; i >= 0; i--)\r\n            a[i].classList.remove('wrong');\r\n        for (var i = b.length - 1; i >= 0; i--)\r\n            b[i].classList.remove('right');\r\n        const node = this.map.current;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n\t\t\t\t<Head />\r\n\t\t\t\t<div id=\"body\" >\r\n\t\t\t\t\t<div id=\"content\">\r\n\t\t\t\t\t<h2>Иркутская область</h2>\r\n\t\t\t\t\t\t<Map  ref={this.map} onClick={this.handleClick} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id=\"side\">\r\n\t\t\t\t\t\t<ul id=\"layers\">\r\n\t\t\t\t\t\t\t<li className=\"region\" onClick={this.handleChoose}>Районы</li>\r\n\t\t\t\t\t\t\t<li className=\"city\" onClick={this.handleChoose}>Города</li>\r\n\t\t\t\t\t\t\t<li className=\"river\" onClick={this.handleChoose}>Реки</li>\r\n\t\t\t\t\t\t\t<li className=\"place\" onClick={this.handleChoose}>Места</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t<div>\r\n\t\t   \t\t\t\t\t{ this.state.current.id==null ? (<div onClick={this.handleStart}>Выберите слой</div> ) : ('dasdsa')}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\t\t\r\n\t\t\t\t\t</div>\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n// <c:choose>\r\n//   \t\t\t \t\t\t\t\t<c:when test=\"${this.state.current.id!=null}\">\r\n//        \t\t\t\t\t\t\t<div onClick={this.handleStart}>Выберите слой</div>\r\n//    \t\t\t\t\t\t\t</c:when>    \r\n//   \t\t\t\t\t\t\t\t<c:otherwise>\r\n// \t\t\t\t\t\t\t\tНайдите заданный объект: <br/>\r\n// \t\t\t\t\t\t\t\t<span>{this.state.current.name}</span><br/>\r\n// \t\t\t\t\t\t\t\tПопыток: {this.state.current.try}\r\n// \t\t\t\t\t\t    </c:otherwise>\r\n//   \t\t\t\t\t\t\t</c:choose>"]},"metadata":{},"sourceType":"module"}